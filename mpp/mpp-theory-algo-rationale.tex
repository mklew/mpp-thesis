%!TEX root = ../thesis.tex

\section{The rationale}
Algorithm \mpp in its current form has been designed for distributed databases that have token ring architecture. 
However there are no strict restrictions and algorithm can be used with any distributed database which uses \emph{keys} to lookup replicated data in the cluster. 

\mpp supports multi-partition operations.
\mpp supports transactions with serializable isolation level. 
\mpp supports transactions that are atomic and durable.
\mpp is resilient to network partitions. In terms of \emph{CAP} \cite{Brewer:2012ba} it uses \emph{AP}
\mpp is eventually consistent (\ref{sec:theory:eventualConsistency}). Comparison of \mpp to \lwt is shown at Fig. \ref{fig:mppVsLwt}.


\begin{figure}[hbt]
  %\centering
  \setlength{\unitlength}{1.3cm}  
  \subfloat{
    \renewcommand{\tabcolsep}{0.1cm}
    \resizebox{\textwidth}{!}{\begin{tabular}{c|c|c|c|c|c|c}
      \toprule
      Algorithm & multi-partition operations & isolation level & atomicity & durability & consistency & \emph{CAP} \\ \midrule
      \mpp      &   yes                      & serializable    &   yes     & yes        & eventually consistent & \emph{AP}  \\
      \lwt      &   no, single partition     & read-committed  &   yes     & yes        & eventually consistent & \emph{AP}  \\  \bottomrule      
    \end{tabular}}
  }
  \caption{\mpp compared to \lwt}
  \label{fig:mppVsLwt}
\end{figure}

%MPPaxos provides serializable transactions that span multiple tokens on token ring. Provides transactions which are isolated from each other. Transactions that are atomic and durable.
%Consistency is eventual for all nodes, but reads are always consistent as long as quorum of nodes is considered. This is the same as in LWT.

% Algorithm’s rationale (theoretical part) - TODO, wstępny akapit przenieść do motywacji


\subsection{Inspired by Paxos and LWT}
Similarly to LWT, \mpp also relies on \paxos, but with many more pieces added, changed and extended. 
\paxos with couple of modifications is part of main \mpp algorithm. As a consequence, \mpp has to satisfy all \paxos requirements in addition to requirements which are defined for transaction like behaviour. \mpp is also inspired by \lwt, therefore similarities exist.        


